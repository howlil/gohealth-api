2025-06-21 23:05:44:544 [32minfo[39m: [32mFirebase Admin SDK initialized successfully[39m
2025-06-21 23:05:44:544 [32minfo[39m: [32mService account loaded from: C:\Users\USER\Documents\code\tugas-kuliah\tugas-multi-platform\gohealth-api\service_account.json[39m
2025-06-21 23:05:45:545 [32minfo[39m: [32mPrisma Info: Starting a mysql pool with 17 connections.[39m
2025-06-21 23:05:45:545 [32minfo[39m: [32mDatabase connected successfully[39m
2025-06-21 23:05:45:545 [32minfo[39m: [32mServer running on port 3000 in production mode[39m
2025-06-21 23:05:51:551 [32minfo[39m: [32mFirebase Admin SDK initialized successfully[39m
2025-06-21 23:05:51:551 [32minfo[39m: [32mService account loaded from: C:\Users\USER\Documents\code\tugas-kuliah\tugas-multi-platform\gohealth-api\service_account.json[39m
2025-06-21 23:05:51:551 [32minfo[39m: [32mPrisma Info: Starting a mysql pool with 17 connections.[39m
2025-06-21 23:05:51:551 [32minfo[39m: [32mDatabase connected successfully[39m
2025-06-21 23:05:51:551 [32minfo[39m: [32mServer running on port 3000 in production mode[39m
2025-06-21 23:06:04:64 [32minfo[39m: [32mFirebase Admin SDK initialized successfully[39m
2025-06-21 23:06:04:64 [32minfo[39m: [32mService account loaded from: C:\Users\USER\Documents\code\tugas-kuliah\tugas-multi-platform\gohealth-api\service_account.json[39m
2025-06-21 23:06:04:64 [32minfo[39m: [32mPrisma Info: Starting a mysql pool with 17 connections.[39m
2025-06-21 23:06:04:64 [32minfo[39m: [32mDatabase connected successfully[39m
2025-06-21 23:06:04:64 [32minfo[39m: [32mServer running on port 3000 in production mode[39m
2025-06-21 23:06:13:613 [32minfo[39m: [32mFirebase Admin SDK initialized successfully[39m
2025-06-21 23:06:13:613 [32minfo[39m: [32mService account loaded from: C:\Users\USER\Documents\code\tugas-kuliah\tugas-multi-platform\gohealth-api\service_account.json[39m
2025-06-21 23:06:14:614 [32minfo[39m: [32mPrisma Info: Starting a mysql pool with 17 connections.[39m
2025-06-21 23:06:14:614 [32minfo[39m: [32mDatabase connected successfully[39m
2025-06-21 23:06:14:614 [32minfo[39m: [32mServer running on port 3000 in production mode[39m
2025-06-21 23:06:35:635 [32minfo[39m: [32mFirebase Admin SDK initialized successfully[39m
2025-06-21 23:06:35:635 [32minfo[39m: [32mService account loaded from: C:\Users\USER\Documents\code\tugas-kuliah\tugas-multi-platform\gohealth-api\service_account.json[39m
2025-06-21 23:06:35:635 [32minfo[39m: [32mPrisma Info: Starting a mysql pool with 17 connections.[39m
2025-06-21 23:06:35:635 [32minfo[39m: [32mDatabase connected successfully[39m
2025-06-21 23:06:35:635 [32minfo[39m: [32mServer running on port 3000 in production mode[39m
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/login",
  "body": {
    "email": "ulil@example.com",
    "password": "Password123:)"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "email": {
        "type": "string",
        "flags": {
          "presence": "required"
        },
        "rules": [
          {
            "name": "email"
          }
        ],
        "preferences": {
          "messages": {
            "string.email": "Invalid email format",
            "any.required": "Email is required"
          }
        }
      },
      "password": {
        "type": "string",
        "flags": {
          "presence": "required"
        },
        "preferences": {
          "messages": {
            "any.required": "Password is required"
          }
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "email": "ulil@example.com",
    "password": "Password123:)"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "email": "ulil@example.com",
    "password": "Password123:)"
  }
}
2025-06-21 23:16:53:1653 [32minfo[39m: [32mLogin attempt for email: ulil@example.com[39m
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mFinding user by email...[39m
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`email` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["ulil@example.com",1,0][39m
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mVerifying password...[39m
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mGenerating authentication tokens...[39m
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mGenerating tokens for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:16:53:1653 [34mdebug[39m: [34mTokens generated successfully[39m
2025-06-21 23:16:53:1653 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 logged in successfully[39m
2025-06-21 23:16:53:1653 [32minfo[39m: [32mUser logged in with email: ulil@example.com[39m
2025-06-21 23:16:53:1653 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:16:53 +0000] "POST /api/auth/login HTTP/1.1" 200 666 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:16:54:1654 [33mwarn[39m: [33mAuthentication failed: No auth token[39m
2025-06-21 23:16:54:1654 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:16:54 +0000] "GET /api/users/profile HTTP/1.1" 401 85 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:16:54:1654 [33mwarn[39m: [33mAuthentication failed: No auth token[39m
2025-06-21 23:16:54:1654 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:16:54 +0000] "GET /api/notifications/unread-count HTTP/1.1" 401 85 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:16:55:1655 [33mwarn[39m: [33mAuthentication failed: No auth token[39m
2025-06-21 23:16:55:1655 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:16:55 +0000] "PUT /api/users/fcm-token HTTP/1.1" 401 85 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:16:55:1655 [33mwarn[39m: [33mAuthentication failed: No auth token[39m
2025-06-21 23:16:55:1655 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:16:55 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 401 85 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/refresh",
  "body": {
    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImExMTQwZDEzLTIwYTctNGJlZS1hNDM3LTZiYmQzNDMzZjE4MyIsImVtYWlsIjoidWxpbEBleGFtcGxlLmNvbSIsImlhdCI6MTc1MDUyMjYxMywiZXhwIjoxNzUzMTE0NjEzfQ.euccxFTv6Z_03KsMy0m9Ok_OgN7V4O0lJvvzBCQ0iwA"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "refreshToken": {
        "type": "string",
        "flags": {
          "presence": "required"
        },
        "preferences": {
          "messages": {
            "any.required": "Refresh token is required"
          }
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImExMTQwZDEzLTIwYTctNGJlZS1hNDM3LTZiYmQzNDMzZjE4MyIsImVtYWlsIjoidWxpbEBleGFtcGxlLmNvbSIsImlhdCI6MTc1MDUyMjYxMywiZXhwIjoxNzUzMTE0NjEzfQ.euccxFTv6Z_03KsMy0m9Ok_OgN7V4O0lJvvzBCQ0iwA"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImExMTQwZDEzLTIwYTctNGJlZS1hNDM3LTZiYmQzNDMzZjE4MyIsImVtYWlsIjoidWxpbEBleGFtcGxlLmNvbSIsImlhdCI6MTc1MDUyMjYxMywiZXhwIjoxNzUzMTE0NjEzfQ.euccxFTv6Z_03KsMy0m9Ok_OgN7V4O0lJvvzBCQ0iwA"
  }
}
2025-06-21 23:16:55:1655 [32minfo[39m: [32mAttempting to refresh token[39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mVerifying refresh token...[39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mFinding user with ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mGenerating new tokens...[39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mGenerating tokens for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mTokens generated successfully[39m
2025-06-21 23:16:55:1655 [32minfo[39m: [32mToken refreshed successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:16:55:1655 [32minfo[39m: [32mToken refreshed successfully[39m
2025-06-21 23:16:55:1655 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:16:55 +0000] "POST /api/auth/refresh HTTP/1.1" 200 585 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:16:55:1655 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:16:55:1655 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:16:55:1655 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:16:55:1655 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved profile[39m
2025-06-21 23:16:55:1655 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:16:55 +0000] "GET /api/users/profile HTTP/1.1" 200 297 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:17:22:1722 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:17:22:1722 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:17:22:1722 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mFound 1 meals[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mTotal calories consumed: 14400[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:17:22:1722 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:17:22:1722 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:17:22:1722 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:17:22:1722 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:17:22 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 710 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:20:1820 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:18:20:1820 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:20:1820 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:20:1820 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "0",
    "limit": "20"
  },
  "params": {}
}
2025-06-21 23:18:20:1820 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 0
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 0
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 20
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "isRead": {
        "type": "boolean"
      },
      "type": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "DAILY_CALORY_ACHIEVEMENT",
          "MEAL_REMINDER",
          "MEAL_LOGGED",
          "WEIGHT_GOAL_PROGRESS",
          "BMI_UPDATE",
          "ACTIVITY_REMINDER",
          "GOAL_ACHIEVED",
          "SYSTEM_UPDATE",
          "GENERAL"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:18:20:1820 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "0",
    "limit": "20"
  },
  "params": {}
}
2025-06-21 23:18:20:1820 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 0,
    "limit": 20
  }
}
2025-06-21 23:18:20:1820 [32minfo[39m: [32mFetching notifications for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:18:21:1821 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`userId` = ? ORDER BY `db_gohealth`.`Notification`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",20,0][39m
2025-06-21 23:18:21:1821 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:18:21:1821 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:18:21:1821 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:21 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:21:1821 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`userId` = ?) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:18:21:1821 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved notifications[39m
2025-06-21 23:18:21:1821 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:21 +0000] "GET /api/notifications?page=0&limit=20 HTTP/1.1" 200 641 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["IKAN-004"][39m
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["714df42b-7065-4b29-bc9f-50bf4ab1e91e"][39m
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["IKAN-004"][39m
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["714df42b-7065-4b29-bc9f-50bf4ab1e91e"][39m
2025-06-21 23:18:28:1828 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:28 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 1038 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:28:1828 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:18:28:1828 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:28 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 869 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["IKAN-004"][39m
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["714df42b-7065-4b29-bc9f-50bf4ab1e91e"][39m
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:18:34:1834 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:34 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 869 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["IKAN-004"][39m
2025-06-21 23:18:34:1834 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["714df42b-7065-4b29-bc9f-50bf4ab1e91e"][39m
2025-06-21 23:18:34:1834 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:34 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 1038 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:18:35:1835 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:18:35:1835 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:35 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:18:35:1835 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:18:35:1835 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:35:1835 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mFound 1 meals[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mTotal calories consumed: 14400[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:18:35:1835 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:35:1835 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:18:35:1835 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:18:35:1835 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:35 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 710 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "0",
    "limit": "20"
  },
  "params": {}
}
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 0
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 0
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 20
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "isRead": {
        "type": "boolean"
      },
      "type": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "DAILY_CALORY_ACHIEVEMENT",
          "MEAL_REMINDER",
          "MEAL_LOGGED",
          "WEIGHT_GOAL_PROGRESS",
          "BMI_UPDATE",
          "ACTIVITY_REMINDER",
          "GOAL_ACHIEVED",
          "SYSTEM_UPDATE",
          "GENERAL"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "0",
    "limit": "20"
  },
  "params": {}
}
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 0,
    "limit": 20
  }
}
2025-06-21 23:18:38:1838 [32minfo[39m: [32mFetching notifications for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`userId` = ?) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`userId` = ? ORDER BY `db_gohealth`.`Notification`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",20,0][39m
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:38:1838 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved notifications[39m
2025-06-21 23:18:38:1838 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:38 +0000] "GET /api/notifications?page=0&limit=20 HTTP/1.1" 200 641 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:38:1838 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:18:38:1838 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:18:38:1838 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:38 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "PATCH",
  "path": "/2db585bb-84c9-4805-aa53-0c58cbeb754b/read",
  "body": {},
  "query": {},
  "params": {
    "notificationId": "2db585bb-84c9-4805-aa53-0c58cbeb754b"
  }
}
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "notificationId": {
        "type": "string",
        "flags": {
          "presence": "required"
        },
        "rules": [
          {
            "name": "guid"
          }
        ],
        "preferences": {
          "messages": {
            "any.required": "Notification ID is required",
            "string.uuid": "Invalid notification ID format"
          }
        }
      }
    }
  },
  "schemaKeys": [
    "params"
  ]
}
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mData to validate:[39m {
  "body": {},
  "query": {},
  "params": {
    "notificationId": "2db585bb-84c9-4805-aa53-0c58cbeb754b"
  }
}
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "params": {
    "notificationId": "2db585bb-84c9-4805-aa53-0c58cbeb754b"
  }
}
2025-06-21 23:18:39:1839 [32minfo[39m: [32mMarking notification 2db585bb-84c9-4805-aa53-0c58cbeb754b as read for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`id` = ? AND `db_gohealth`.`Notification`.`userId` = ?) LIMIT ? OFFSET ? - Params: ["2db585bb-84c9-4805-aa53-0c58cbeb754b","a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`id` = ? AND 1=1) - Params: ["2db585bb-84c9-4805-aa53-0c58cbeb754b"][39m
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`Notification` SET `isRead` = ?, `readAt` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`Notification`.`id` IN (?) AND (`db_gohealth`.`Notification`.`id` = ? AND 1=1)) - Params: [true,"2025-06-21 16:18:39.206 UTC","2025-06-21 16:18:39.208 UTC","2db585bb-84c9-4805-aa53-0c58cbeb754b","2db585bb-84c9-4805-aa53-0c58cbeb754b"][39m
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`id` = ? LIMIT ? OFFSET ? - Params: ["2db585bb-84c9-4805-aa53-0c58cbeb754b",1,0][39m
2025-06-21 23:18:39:1839 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:18:39:1839 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 marked notification 2db585bb-84c9-4805-aa53-0c58cbeb754b as read[39m
2025-06-21 23:18:39:1839 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:39 +0000] "PATCH /api/notifications/2db585bb-84c9-4805-aa53-0c58cbeb754b/read HTTP/1.1" 200 616 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["IKAN-004"][39m
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["714df42b-7065-4b29-bc9f-50bf4ab1e91e"][39m
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:18:41:1841 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:41 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 1038 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["IKAN-004"][39m
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["714df42b-7065-4b29-bc9f-50bf4ab1e91e"][39m
2025-06-21 23:18:41:1841 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:18:41:1841 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:18:41 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 869 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:12:1912 [32minfo[39m: [32mFirebase Admin SDK initialized successfully[39m
2025-06-21 23:19:12:1912 [32minfo[39m: [32mService account loaded from: C:\Users\USER\Documents\code\tugas-kuliah\tugas-multi-platform\gohealth-api\service_account.json[39m
2025-06-21 23:19:12:1912 [32minfo[39m: [32mPrisma Info: Starting a mysql pool with 17 connections.[39m
2025-06-21 23:19:12:1912 [32minfo[39m: [32mDatabase connected successfully[39m
2025-06-21 23:19:12:1912 [32minfo[39m: [32mServer running on port 3000 in production mode[39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`id` = ? AND `db_gohealth`.`UserMeal`.`userId` = ?) LIMIT ? OFFSET ? - Params: ["b874834a-03da-4a77-a6cb-8ee6ca9a6aa0","a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["b874834a-03da-4a77-a6cb-8ee6ca9a6aa0",1,0][39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: DELETE FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`id` = ? AND 1=1) - Params: ["b874834a-03da-4a77-a6cb-8ee6ca9a6aa0"][39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:19:21:1921 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:21 +0000] "DELETE /api/meals/b874834a-03da-4a77-a6cb-8ee6ca9a6aa0 HTTP/1.1" 200 66 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:21:1921 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:21 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 288 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:19:21:1921 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:21:1921 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:21 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 141 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:29:1929 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:19:29:1929 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:29:1929 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%aya%",10,0][39m
2025-06-21 23:19:29:1929 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?,?,?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b","964331b7-5586-4e83-be77-d5b0722f6d9e","209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:19:29:1929 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:29 +0000] "GET /api/meals/foods/autocomplete?query=aya&limit=10 HTTP/1.1" 200 841 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:30:1930 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:30:1930 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["DAGING-002",true,1,0][39m
2025-06-21 23:19:30:1930 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:19:30:1930 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:30 +0000] "GET /api/meals/foods/DAGING-002 HTTP/1.1" 200 461 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:32:1932 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:32:1932 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:19:32:1932 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "foodId": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true,
          "presence": "required"
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      },
      "date": {
        "type": "date",
        "flags": {
          "presence": "required"
        }
      },
      "quantity": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 0.1
            }
          }
        ]
      },
      "unit": {
        "type": "string",
        "flags": {
          "default": "porsi"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:19:32:1932 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:19:32:1932 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:32:1932 [31merror[39m: [31mError creating meal: Quantity must be between 0.1 and 20 servings for realistic portion sizes[39m {
  "statusCode": 400,
  "errors": null,
  "isOperational": true,
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)"
}
2025-06-21 23:19:32:1932 [31merror[39m: [31mQuantity must be between 0.1 and 20 servings for realistic portion sizes - /api/meals - POST - ::1[39m {
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  },
  "params": {},
  "query": {}
}
2025-06-21 23:19:32:1932 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:32 +0000] "POST /api/meals HTTP/1.1" 400 114 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:34:1934 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:34:1934 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%Ayam Goreng%",10,0][39m
2025-06-21 23:19:34:1934 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:19:34:1934 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:34 +0000] "GET /api/meals/foods/autocomplete?query=Ayam%20Goreng&limit=10 HTTP/1.1" 200 176 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:35:1935 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:35:1935 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["DAGING-002",true,1,0][39m
2025-06-21 23:19:35:1935 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:19:35:1935 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:35 +0000] "GET /api/meals/foods/DAGING-002 HTTP/1.1" 200 461 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:36:1936 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:36:1936 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:19:36:1936 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "foodId": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true,
          "presence": "required"
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      },
      "date": {
        "type": "date",
        "flags": {
          "presence": "required"
        }
      },
      "quantity": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 0.1
            }
          }
        ]
      },
      "unit": {
        "type": "string",
        "flags": {
          "default": "porsi"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:19:36:1936 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:19:36:1936 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:36:1936 [31merror[39m: [31mError creating meal: Quantity must be between 0.1 and 20 servings for realistic portion sizes[39m {
  "statusCode": 400,
  "errors": null,
  "isOperational": true,
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)"
}
2025-06-21 23:19:36:1936 [31merror[39m: [31mQuantity must be between 0.1 and 20 servings for realistic portion sizes - /api/meals - POST - ::1[39m {
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  },
  "params": {},
  "query": {}
}
2025-06-21 23:19:36:1936 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:36 +0000] "POST /api/meals HTTP/1.1" 400 114 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:38:1938 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:38 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 288 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:19:38:1938 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:38:1938 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:38 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 141 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:40:1940 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:40 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 288 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:40:1940 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:40:1940 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:40 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 141 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:42:1942 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:42 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 288 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:19:42:1942 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:42:1942 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:42 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 141 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:19:43:1943 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:19:43:1943 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:43:1943 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:19:43:1943 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:19:43:1943 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:43 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:19:43:1943 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:43:1943 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:19:43:1943 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:19:43:1943 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:43 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:44:1944 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:44 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 141 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:44:1944 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:19:44:1944 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:44 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 288 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:48:1948 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:48:1948 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%aysms%",10,0][39m
2025-06-21 23:19:48:1948 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:48 +0000] "GET /api/meals/foods/autocomplete?query=aysms&limit=10 HTTP/1.1" 200 78 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:49:1949 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:49:1949 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%ay%",10,0][39m
2025-06-21 23:19:49:1949 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?,?,?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b","964331b7-5586-4e83-be77-d5b0722f6d9e","209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:19:49:1949 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:49 +0000] "GET /api/meals/foods/autocomplete?query=ay&limit=10 HTTP/1.1" 200 943 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:50:1950 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:50:1950 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["DAGING-002",true,1,0][39m
2025-06-21 23:19:50:1950 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:19:50:1950 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:50 +0000] "GET /api/meals/foods/DAGING-002 HTTP/1.1" 200 461 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:19:52:1952 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:19:52:1952 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:19:52:1952 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "foodId": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true,
          "presence": "required"
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      },
      "date": {
        "type": "date",
        "flags": {
          "presence": "required"
        }
      },
      "quantity": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 0.1
            }
          }
        ]
      },
      "unit": {
        "type": "string",
        "flags": {
          "default": "porsi"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:19:52:1952 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:19:52:1952 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:19:52:1952 [31merror[39m: [31mError creating meal: Quantity must be between 0.1 and 20 servings for realistic portion sizes[39m {
  "statusCode": 400,
  "errors": null,
  "isOperational": true,
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)"
}
2025-06-21 23:19:52:1952 [31merror[39m: [31mQuantity must be between 0.1 and 20 servings for realistic portion sizes - /api/meals - POST - ::1[39m {
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  },
  "params": {},
  "query": {}
}
2025-06-21 23:19:52:1952 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:19:52 +0000] "POST /api/meals HTTP/1.1" 400 114 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:20:14:2014 [32minfo[39m: [32mFirebase Admin SDK initialized successfully[39m
2025-06-21 23:20:14:2014 [32minfo[39m: [32mService account loaded from: C:\Users\USER\Documents\code\tugas-kuliah\tugas-multi-platform\gohealth-api\service_account.json[39m
2025-06-21 23:20:14:2014 [32minfo[39m: [32mPrisma Info: Starting a mysql pool with 17 connections.[39m
2025-06-21 23:20:14:2014 [32minfo[39m: [32mDatabase connected successfully[39m
2025-06-21 23:20:14:2014 [32minfo[39m: [32mServer running on port 3000 in production mode[39m
2025-06-21 23:20:15:2015 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:20:15:2015 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%Ayam Goreng%",10,0][39m
2025-06-21 23:20:15:2015 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:20:15:2015 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:20:15 +0000] "GET /api/meals/foods/autocomplete?query=Ayam%20Goreng&limit=10 HTTP/1.1" 200 176 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:20:16:2016 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:20:16:2016 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["DAGING-002",true,1,0][39m
2025-06-21 23:20:16:2016 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:20:16:2016 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:20:16 +0000] "GET /api/meals/foods/DAGING-002 HTTP/1.1" 200 461 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:20:17:2017 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:20:17:2017 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:20:17:2017 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "foodId": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true,
          "presence": "required"
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      },
      "date": {
        "type": "date",
        "flags": {
          "presence": "required"
        }
      },
      "quantity": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 0.1
            }
          }
        ]
      },
      "unit": {
        "type": "string",
        "flags": {
          "default": "porsi"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:20:17:2017 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:20:17:2017 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:20:17:2017 [31merror[39m: [31mError creating meal: Quantity must be between 0.1 and 20 servings for realistic portion sizes[39m {
  "statusCode": 400,
  "errors": null,
  "isOperational": true,
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)"
}
2025-06-21 23:20:17:2017 [31merror[39m: [31mQuantity must be between 0.1 and 20 servings for realistic portion sizes - /api/meals - POST - ::1[39m {
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  },
  "params": {},
  "query": {}
}
2025-06-21 23:20:17:2017 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:20:17 +0000] "POST /api/meals HTTP/1.1" 400 114 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:20:42:2042 [32minfo[39m: [32mFirebase Admin SDK initialized successfully[39m
2025-06-21 23:20:42:2042 [32minfo[39m: [32mService account loaded from: C:\Users\USER\Documents\code\tugas-kuliah\tugas-multi-platform\gohealth-api\service_account.json[39m
2025-06-21 23:20:42:2042 [32minfo[39m: [32mPrisma Info: Starting a mysql pool with 17 connections.[39m
2025-06-21 23:20:42:2042 [32minfo[39m: [32mDatabase connected successfully[39m
2025-06-21 23:20:42:2042 [32minfo[39m: [32mServer running on port 3000 in production mode[39m
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "PUT",
  "path": "/fcm-token",
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:30:46.667042"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "fcmToken": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:30:46.667042"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo"
  }
}
2025-06-21 23:30:49:3049 [32minfo[39m: [32mUpdating FCM token for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `fcmToken` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: ["e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo","2025-06-21 16:30:49.318 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:30:49:3049 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:31:24:3124 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:31:24 +0000] "PUT /api/users/fcm-token HTTP/1.1" - - "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "PUT",
  "path": "/fcm-token",
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:32:44.963947"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "fcmToken": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:32:44.963947"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo"
  }
}
2025-06-21 23:32:47:3247 [32minfo[39m: [32mUpdating FCM token for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `fcmToken` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: ["e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo","2025-06-21 16:32:47.591 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:32:47:3247 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:34:15:3415 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:34:15 +0000] "PUT /api/users/fcm-token HTTP/1.1" - - "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "PUT",
  "path": "/fcm-token",
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:34:52.689691"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "fcmToken": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:34:52.689691"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo"
  }
}
2025-06-21 23:34:55:3455 [32minfo[39m: [32mUpdating FCM token for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `fcmToken` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: ["e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo","2025-06-21 16:34:55.367 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:34:55:3455 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:39:55:3955 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:39:55 +0000] "PUT /api/users/fcm-token HTTP/1.1" - - "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:39:59:3959 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:39:59:3959 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:39:59:3959 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:39:59:3959 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "PUT",
  "path": "/fcm-token",
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:39:57.091737"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "fcmToken": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:39:57.091737"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:39:59:3959 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo"
  }
}
2025-06-21 23:39:59:3959 [32minfo[39m: [32mUpdating FCM token for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `fcmToken` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: ["e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo","2025-06-21 16:40:00.001 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:00:400 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:40:00:400 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:00 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:00:400 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:00:400 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved profile[39m
2025-06-21 23:40:00:400 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:00 +0000] "GET /api/users/profile HTTP/1.1" 200 297 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:40:00:400 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:00:400 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:00:400 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:40:00:400 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:00 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:40:22:4022 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:40:22:4022 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:22:4022 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:40:22:4022 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:40:22:4022 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:22 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:40:22:4022 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:22:4022 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:22:4022 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:40:22:4022 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:22 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:40:41:4041 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:40:41:4041 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:40:41:4041 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:40:41:4041 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:41 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:41:4041 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:41:4041 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:41:4041 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:40:41:4041 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:41 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:40:41:4041 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:40:41:4041 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:41:4041 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:40:41:4041 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:40:41:4041 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:41 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:40:41:4041 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:40:42:4042 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:40:42:4042 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:42:4042 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:42:4042 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:40:42:4042 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:42 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:40:51:4051 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:40:51:4051 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:51:4051 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:40:51:4051 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:40:51:4051 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:51 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:40:51:4051 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:51:4051 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:51:4051 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:40:51:4051 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:51 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:40:52:4052 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:40:52:4052 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:40:52:4052 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:40:52:4052 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:52 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:52:4052 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:40:52:4052 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:40:52:4052 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:40:52:4052 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:40:52:4052 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:40:52 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:41:02:412 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:41:02:412 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:02 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:02:412 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:02:412 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:02:412 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:41:02:412 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:41:02:412 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:02:412 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:41:02:412 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:02:412 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:02:412 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:41:02:412 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:02 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:04:414 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:04:414 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:04:414 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:41:04:414 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:41:04:414 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:04 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:41:04:414 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:04 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:04:414 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:04:414 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:04:414 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:41:04:414 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:41:04:414 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:04 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:41:04:414 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:04:414 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:41:04:414 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:04 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:41:05:415 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:41:05:415 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:05 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:05:415 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:05:415 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:05:415 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:41:05:415 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:41:05:415 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:05:415 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:41:05:415 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:05:415 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:05:415 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:41:05:415 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:05 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:41:12:4112 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:41:12:4112 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:12:4112 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:41:12:4112 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:41:12:4112 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:12 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:41:12:4112 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:12:4112 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:12:4112 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:41:12:4112 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:12 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 698 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:15:4115 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:15:4115 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/history",
  "query": {
    "limit": "10",
    "offset": "10"
  },
  "params": {}
}
2025-06-21 23:41:15:4115 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:15:4115 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "limit": "10",
    "offset": "10"
  },
  "params": {}
}
2025-06-21 23:41:15:4115 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "limit": 10,
    "page": 1
  }
}
2025-06-21 23:41:15:4115 [32minfo[39m: [32mFetching BMI history for user a1140d13-20a7-4bee-a437-6bbd3433f183 with limit 10[39m
2025-06-21 23:41:15:4115 [34mdebug[39m: [34mQuerying BMI records from database...[39m
2025-06-21 23:41:15:4115 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",10,0][39m
2025-06-21 23:41:15:4115 [34mdebug[39m: [34mFound 0 BMI records[39m
2025-06-21 23:41:15:4115 [32minfo[39m: [32mBMI history retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:15:4115 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:15 +0000] "GET /api/bmi/history?limit=10&offset=10 HTTP/1.1" 200 73 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:16:4116 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:16:4116 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/calculate",
  "body": {
    "height": 170,
    "weight": 55
  },
  "query": {},
  "params": {}
}
2025-06-21 23:41:16:4116 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "height": {
        "type": "number",
        "flags": {
          "presence": "required"
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 50
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 300
            }
          }
        ],
        "preferences": {
          "messages": {
            "any.required": "Height in cm is required"
          }
        }
      },
      "weight": {
        "type": "number",
        "flags": {
          "presence": "required"
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 20
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 500
            }
          }
        ],
        "preferences": {
          "messages": {
            "any.required": "Weight in kg is required"
          }
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:41:16:4116 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "height": 170,
    "weight": 55
  },
  "query": {},
  "params": {}
}
2025-06-21 23:41:16:4116 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "height": 170,
    "weight": 55
  }
}
2025-06-21 23:41:16:4116 [32minfo[39m: [32mCalculating BMI for user a1140d13-20a7-4bee-a437-6bbd3433f183 with weight 55kg and height 170cm[39m
2025-06-21 23:41:16:4116 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:16:4116 [31merror[39m: [31mError calculating BMI[39m {
  "error": "User profile incomplete (age, gender, activity level required)",
  "stack": "Error: User profile incomplete (age, gender, activity level required)\n    at ApiError.badRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\libs\\http\\ApiError.js:12:12)\n    at BMIService.calculateAndSaveBMI (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\bmi.service.js:22:76)\n    at async BMIController.calculateBMI (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\bmi.controller.js:21:25)",
  "userId": "a1140d13-20a7-4bee-a437-6bbd3433f183",
  "weight": 55,
  "height": 170
}
2025-06-21 23:41:16:4116 [31merror[39m: [31mUser profile incomplete (age, gender, activity level required) - /api/bmi/calculate - POST - ::1[39m {
  "stack": "Error: User profile incomplete (age, gender, activity level required)\n    at ApiError.badRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\libs\\http\\ApiError.js:12:12)\n    at BMIService.calculateAndSaveBMI (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\bmi.service.js:22:76)\n    at async BMIController.calculateBMI (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\bmi.controller.js:21:25)",
  "body": {
    "height": 170,
    "weight": 55
  },
  "params": {},
  "query": {}
}
2025-06-21 23:41:16:4116 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:16 +0000] "POST /api/bmi/calculate HTTP/1.1" 400 104 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:18:4118 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:18:4118 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/calculate",
  "body": {
    "height": 170,
    "weight": 55
  },
  "query": {},
  "params": {}
}
2025-06-21 23:41:18:4118 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "height": {
        "type": "number",
        "flags": {
          "presence": "required"
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 50
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 300
            }
          }
        ],
        "preferences": {
          "messages": {
            "any.required": "Height in cm is required"
          }
        }
      },
      "weight": {
        "type": "number",
        "flags": {
          "presence": "required"
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 20
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 500
            }
          }
        ],
        "preferences": {
          "messages": {
            "any.required": "Weight in kg is required"
          }
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:41:18:4118 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "height": 170,
    "weight": 55
  },
  "query": {},
  "params": {}
}
2025-06-21 23:41:18:4118 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "height": 170,
    "weight": 55
  }
}
2025-06-21 23:41:18:4118 [32minfo[39m: [32mCalculating BMI for user a1140d13-20a7-4bee-a437-6bbd3433f183 with weight 55kg and height 170cm[39m
2025-06-21 23:41:18:4118 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:18:4118 [31merror[39m: [31mError calculating BMI[39m {
  "error": "User profile incomplete (age, gender, activity level required)",
  "stack": "Error: User profile incomplete (age, gender, activity level required)\n    at ApiError.badRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\libs\\http\\ApiError.js:12:12)\n    at BMIService.calculateAndSaveBMI (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\bmi.service.js:22:76)\n    at async BMIController.calculateBMI (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\bmi.controller.js:21:25)",
  "userId": "a1140d13-20a7-4bee-a437-6bbd3433f183",
  "weight": 55,
  "height": 170
}
2025-06-21 23:41:18:4118 [31merror[39m: [31mUser profile incomplete (age, gender, activity level required) - /api/bmi/calculate - POST - ::1[39m {
  "stack": "Error: User profile incomplete (age, gender, activity level required)\n    at ApiError.badRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\libs\\http\\ApiError.js:12:12)\n    at BMIService.calculateAndSaveBMI (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\bmi.service.js:22:76)\n    at async BMIController.calculateBMI (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\bmi.controller.js:21:25)",
  "body": {
    "height": 170,
    "weight": 55
  },
  "params": {},
  "query": {}
}
2025-06-21 23:41:18:4118 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:18 +0000] "POST /api/bmi/calculate HTTP/1.1" 400 104 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "PUT",
  "path": "/profile",
  "body": {
    "name": "ulil",
    "age": 25,
    "gender": "MALE",
    "height": 170,
    "weight": 70,
    "activityLevel": "MODERATELY_ACTIVE"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "name": {
        "type": "string",
        "rules": [
          {
            "name": "trim",
            "args": {
              "enabled": true
            }
          },
          {
            "name": "min",
            "args": {
              "limit": 2
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "age": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 120
            }
          }
        ]
      },
      "gender": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "MALE",
          "FEMALE"
        ]
      },
      "height": {
        "type": "number",
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 50
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 300
            }
          }
        ]
      },
      "weight": {
        "type": "number",
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 20
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 500
            }
          }
        ]
      },
      "activityLevel": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "SEDENTARY",
          "LIGHTLY",
          "ACTIVE",
          "MODERATELY_ACTIVE",
          "VERY_ACTIVE",
          "EXTRA_ACTIVE"
        ]
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "name": "ulil",
    "age": 25,
    "gender": "MALE",
    "height": 170,
    "weight": 70,
    "activityLevel": "MODERATELY_ACTIVE"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "name": "ulil",
    "age": 25,
    "gender": "MALE",
    "height": 170,
    "weight": 70,
    "activityLevel": "MODERATELY_ACTIVE"
  }
}
2025-06-21 23:41:26:4126 [32minfo[39m: [32mUpdating profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mUpdating user record with data:[39m {
  "name": "ulil",
  "age": 25,
  "gender": "MALE",
  "height": 170,
  "weight": 70,
  "activityLevel": "MODERATELY_ACTIVE"
}
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `name` = ?, `age` = ?, `gender` = ?, `height` = ?, `weight` = ?, `activityLevel` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: ["ulil",25,"MALE",170,70,"MODERATELY_ACTIVE","2025-06-21 16:41:26.804 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:41:26:4126 [32minfo[39m: [32mProfile updated successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:26:4126 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:41:26:4126 [34mdebug[39m: [34mCalculated BMR: 1643, TDEE: 2547[39m
2025-06-21 23:41:26:4126 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:26:4126 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 updated profile[39m
2025-06-21 23:41:26:4126 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:26 +0000] "PUT /api/users/profile HTTP/1.1" 200 330 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:41:28:4128 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:41:28:4128 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:28 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:41:28:4128 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:41:28:4128 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mCalculated BMR: 1643, TDEE: 2547[39m
2025-06-21 23:41:28:4128 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:41:28:4128 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:28:4128 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:28:4128 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:41:28:4128 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:28 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 731 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:30:4130 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:30:4130 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/history",
  "query": {
    "limit": "10",
    "offset": "10"
  },
  "params": {}
}
2025-06-21 23:41:30:4130 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:30:4130 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "limit": "10",
    "offset": "10"
  },
  "params": {}
}
2025-06-21 23:41:30:4130 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "limit": 10,
    "page": 1
  }
}
2025-06-21 23:41:30:4130 [32minfo[39m: [32mFetching BMI history for user a1140d13-20a7-4bee-a437-6bbd3433f183 with limit 10[39m
2025-06-21 23:41:30:4130 [34mdebug[39m: [34mQuerying BMI records from database...[39m
2025-06-21 23:41:30:4130 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",10,0][39m
2025-06-21 23:41:30:4130 [34mdebug[39m: [34mFound 0 BMI records[39m
2025-06-21 23:41:30:4130 [32minfo[39m: [32mBMI history retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:30:4130 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:30 +0000] "GET /api/bmi/history?limit=10&offset=10 HTTP/1.1" 200 73 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:31:4131 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:31:4131 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/calculate",
  "body": {
    "height": 170,
    "weight": 55
  },
  "query": {},
  "params": {}
}
2025-06-21 23:41:31:4131 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "height": {
        "type": "number",
        "flags": {
          "presence": "required"
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 50
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 300
            }
          }
        ],
        "preferences": {
          "messages": {
            "any.required": "Height in cm is required"
          }
        }
      },
      "weight": {
        "type": "number",
        "flags": {
          "presence": "required"
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 20
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 500
            }
          }
        ],
        "preferences": {
          "messages": {
            "any.required": "Weight in kg is required"
          }
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:41:31:4131 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "height": 170,
    "weight": 55
  },
  "query": {},
  "params": {}
}
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "height": 170,
    "weight": 55
  }
}
2025-06-21 23:41:32:4132 [32minfo[39m: [32mCalculating BMI for user a1140d13-20a7-4bee-a437-6bbd3433f183 with weight 55kg and height 170cm[39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mCalculating BMI value...[39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mCalculated BMI: 19, Status: NORMAL[39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mSaving BMI record to database...[39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: INSERT INTO `db_gohealth`.`BMIRecord` (`id`,`userId`,`height`,`weight`,`bmi`,`status`,`recordedAt`,`createdAt`,`updatedAt`,`nutritionSummary`) VALUES (?,?,?,?,?,?,?,?,?,?) - Params: ["ac07c7ac-07a2-46ee-9998-e8df6b08ea4a","a1140d13-20a7-4bee-a437-6bbd3433f183",170,55,19,"NORMAL","2025-06-21 16:41:32.008 UTC","2025-06-21 16:41:32.008 UTC","2025-06-21 16:41:32.008 UTC",{"calories":{"min":2083,"max":2545},"protein":{"min":78,"max":127,"unit":"gram"},"carbohydrate":{"min":260,"max":382,"unit":"gram"},"fat":{"min":46,"max":85,"unit":"gram"}}][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`id` = ? LIMIT ? OFFSET ? - Params: ["ac07c7ac-07a2-46ee-9998-e8df6b08ea4a",1,0][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mUpdating user's current weight and height...[39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `height` = ?, `weight` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: [170,55,"2025-06-21 16:41:32.023 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:41:32:4132 [32minfo[39m: [32mBMI calculated and saved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:32:4132 [32minfo[39m: [32mCreating notification for user a1140d13-20a7-4bee-a437-6bbd3433f183: 📊 BMI Updated![39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: INSERT INTO `db_gohealth`.`Notification` (`id`,`userId`,`type`,`title`,`body`,`data`,`isRead`,`isSent`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?) - Params: ["a9cdcfaa-6121-4868-886d-f1d011a5f5d7","a1140d13-20a7-4bee-a437-6bbd3433f183","BMI_UPDATE","📊 BMI Updated!","Your BMI is 19.0 (Normal). Daily calorie target: 2083-2545 kcal",{"type":"BMI_UPDATE","bmi":"19.0","status":"NORMAL","height":"170","weight":"55","caloriesMin":"2083","caloriesMax":"2545","timestamp":"2025-06-21T16:41:32.033Z"},false,false,"2025-06-21 16:41:32.035 UTC","2025-06-21 16:41:32.035 UTC"][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`id` = ? LIMIT ? OFFSET ? - Params: ["a9cdcfaa-6121-4868-886d-f1d011a5f5d7",1,0][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`name` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:32:4132 [32minfo[39m: [32mPush notification sent successfully to user a1140d13-20a7-4bee-a437-6bbd3433f183:[39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`id` = ? AND 1=1) - Params: ["a9cdcfaa-6121-4868-886d-f1d011a5f5d7"][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`Notification` SET `isSent` = ?, `sentAt` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`Notification`.`id` IN (?) AND (`db_gohealth`.`Notification`.`id` = ? AND 1=1)) - Params: [true,"2025-06-21 16:41:32.555 UTC","2025-06-21 16:41:32.557 UTC","a9cdcfaa-6121-4868-886d-f1d011a5f5d7","a9cdcfaa-6121-4868-886d-f1d011a5f5d7"][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`id` = ? LIMIT ? OFFSET ? - Params: ["a9cdcfaa-6121-4868-886d-f1d011a5f5d7",1,0][39m
2025-06-21 23:41:32:4132 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:41:32:4132 [32minfo[39m: [32mBMI update notification sent to user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:32:4132 [32minfo[39m: [32mBMI calculated for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:32:4132 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:32 +0000] "POST /api/bmi/calculate HTTP/1.1" 201 379 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:41:37:4137 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:41:37:4137 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:37 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:41:37:4137 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:41:37:4137 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:41:37:4137 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:41:37:4137 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:37:4137 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:37:4137 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:41:37:4137 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:37 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1140 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:41:50:4150 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:41:50:4150 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:50 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "0",
    "limit": "20"
  },
  "params": {}
}
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 0
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 0
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 20
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "isRead": {
        "type": "boolean"
      },
      "type": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "DAILY_CALORY_ACHIEVEMENT",
          "MEAL_REMINDER",
          "MEAL_LOGGED",
          "WEIGHT_GOAL_PROGRESS",
          "BMI_UPDATE",
          "ACTIVITY_REMINDER",
          "GOAL_ACHIEVED",
          "SYSTEM_UPDATE",
          "GENERAL"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "0",
    "limit": "20"
  },
  "params": {}
}
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 0,
    "limit": 20
  }
}
2025-06-21 23:41:50:4150 [32minfo[39m: [32mFetching notifications for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`userId` = ? ORDER BY `db_gohealth`.`Notification`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",20,0][39m
2025-06-21 23:41:50:4150 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`userId` = ?) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:41:50:4150 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved notifications[39m
2025-06-21 23:41:50:4150 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:50 +0000] "GET /api/notifications?page=0&limit=20 HTTP/1.1" 200 1100 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "DELETE",
  "path": "/2db585bb-84c9-4805-aa53-0c58cbeb754b",
  "query": {},
  "params": {
    "notificationId": "2db585bb-84c9-4805-aa53-0c58cbeb754b"
  }
}
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "notificationId": {
        "type": "string",
        "flags": {
          "presence": "required"
        },
        "rules": [
          {
            "name": "guid"
          }
        ],
        "preferences": {
          "messages": {
            "any.required": "Notification ID is required",
            "string.uuid": "Invalid notification ID format"
          }
        }
      }
    }
  },
  "schemaKeys": [
    "params"
  ]
}
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mData to validate:[39m {
  "query": {},
  "params": {
    "notificationId": "2db585bb-84c9-4805-aa53-0c58cbeb754b"
  }
}
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "params": {
    "notificationId": "2db585bb-84c9-4805-aa53-0c58cbeb754b"
  }
}
2025-06-21 23:41:55:4155 [32minfo[39m: [32mDeleting notification 2db585bb-84c9-4805-aa53-0c58cbeb754b for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`id` = ? AND `db_gohealth`.`Notification`.`userId` = ?) LIMIT ? OFFSET ? - Params: ["2db585bb-84c9-4805-aa53-0c58cbeb754b","a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["2db585bb-84c9-4805-aa53-0c58cbeb754b",1,0][39m
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mQuery: DELETE FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`id` = ? AND 1=1) - Params: ["2db585bb-84c9-4805-aa53-0c58cbeb754b"][39m
2025-06-21 23:41:55:4155 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:41:55:4155 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 deleted notification 2db585bb-84c9-4805-aa53-0c58cbeb754b[39m
2025-06-21 23:41:55:4155 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:41:55 +0000] "DELETE /api/notifications/2db585bb-84c9-4805-aa53-0c58cbeb754b HTTP/1.1" 200 74 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:42:01:421 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:42:01:421 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:42:01:421 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:42:01:421 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:42:01:421 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:42:01:421 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:42:01:421 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:42:01:421 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:42:01:421 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:42:01:421 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:42:01:421 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:42:01:421 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:42:01:421 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:42:01 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 288 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:42:01:421 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:42:01:421 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:42:01 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 141 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:43:00:430 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:43:00:430 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:00:430 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%ayam%",10,0][39m
2025-06-21 23:43:00:430 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?,?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b","964331b7-5586-4e83-be77-d5b0722f6d9e"][39m
2025-06-21 23:43:00:430 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:43:00 +0000] "GET /api/meals/foods/autocomplete?query=ayam&limit=10 HTTP/1.1" 200 754 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:43:02:432 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:02:432 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["DAGING-002",true,1,0][39m
2025-06-21 23:43:02:432 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:43:02:432 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:43:02 +0000] "GET /api/meals/foods/DAGING-002 HTTP/1.1" 200 461 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:43:05:435 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:05:435 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:43:05:435 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "foodId": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true,
          "presence": "required"
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      },
      "date": {
        "type": "date",
        "flags": {
          "presence": "required"
        }
      },
      "quantity": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 0.1
            }
          }
        ]
      },
      "unit": {
        "type": "string",
        "flags": {
          "default": "porsi"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:43:05:435 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:43:05:435 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:43:05:435 [31merror[39m: [31mError creating meal: Quantity must be between 0.1 and 20 servings for realistic portion sizes[39m {
  "statusCode": 400,
  "errors": null,
  "isOperational": true,
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)"
}
2025-06-21 23:43:05:435 [31merror[39m: [31mQuantity must be between 0.1 and 20 servings for realistic portion sizes - /api/meals - POST - ::1[39m {
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  },
  "params": {},
  "query": {}
}
2025-06-21 23:43:05:435 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:43:05 +0000] "POST /api/meals HTTP/1.1" 400 114 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:43:34:4334 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:43:34:4334 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:34:4334 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%Ayam Goreng%",10,0][39m
2025-06-21 23:43:34:4334 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:43:34:4334 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:43:34 +0000] "GET /api/meals/foods/autocomplete?query=Ayam%20Goreng&limit=10 HTTP/1.1" 200 176 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:43:38:4338 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:43:38:4338 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:43:38 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:43:38:4338 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:43:38:4338 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:43:38:4338 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:43:38:4338 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:38:4338 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:43:38:4338 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:43:38:4338 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:43:38 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1140 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:43:40:4340 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:43:40:4340 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:43:40 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "0",
    "limit": "20"
  },
  "params": {}
}
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 0
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 0
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 20
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "isRead": {
        "type": "boolean"
      },
      "type": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "DAILY_CALORY_ACHIEVEMENT",
          "MEAL_REMINDER",
          "MEAL_LOGGED",
          "WEIGHT_GOAL_PROGRESS",
          "BMI_UPDATE",
          "ACTIVITY_REMINDER",
          "GOAL_ACHIEVED",
          "SYSTEM_UPDATE",
          "GENERAL"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "0",
    "limit": "20"
  },
  "params": {}
}
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 0,
    "limit": 20
  }
}
2025-06-21 23:43:40:4340 [32minfo[39m: [32mFetching notifications for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`userId` = ?) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:43:40:4340 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`userId` = ? ORDER BY `db_gohealth`.`Notification`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",20,0][39m
2025-06-21 23:43:40:4340 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved notifications[39m
2025-06-21 23:43:40:4340 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:43:40 +0000] "GET /api/notifications?page=0&limit=20 HTTP/1.1" 200 595 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:43:41:4341 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:43:41:4341 [32minfo[39m: [32mMarking all notifications as read for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:43:41:4341 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:43:41:4341 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`Notification` SET `isRead` = ?, `readAt` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?) - Params: [true,"2025-06-21 16:43:41.857 UTC","2025-06-21 16:43:41.859 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:43:41:4341 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:43:41:4341 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 marked all notifications as read. Count: 1[39m
2025-06-21 23:43:41:4341 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:43:41 +0000] "PATCH /api/notifications/read-all HTTP/1.1" 200 80 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:44:00:440 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:44:00:440 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:44:01:441 [32minfo[39m: [32mProfile image upload attempt by user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:44:01:441 [34mdebug[39m: [34mUpload request details:[39m {
  "userId": "a1140d13-20a7-4bee-a437-6bbd3433f183",
  "hasFile": true,
  "fileDetails": {
    "originalname": "scaled_IMG_20250616_193239.jpg",
    "mimetype": "image/jpeg",
    "size": 58894,
    "filename": "1750524241021-121671811.jpg"
  },
  "contentType": "multipart/form-data; boundary=dart-http-boundary-WZGZ+GE_PHU9jeUG9RKpOEiVuzRMOZ8773VjNQkUkjHF-48rwHu",
  "userAgent": "Dart/3.7 (dart:io)"
}
2025-06-21 23:44:01:441 [32minfo[39m: [32mUpdating profile image for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:44:01:441 [34mdebug[39m: [34mGenerated image URL: /uploads/profile/a1140d13-20a7-4bee-a437-6bbd3433f183/1750524241021-121671811.jpg[39m
2025-06-21 23:44:01:441 [34mdebug[39m: [34mUpdating user record with new image URL...[39m
2025-06-21 23:44:01:441 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:44:01:441 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:44:01:441 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `profileImage` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: ["/uploads/profile/a1140d13-20a7-4bee-a437-6bbd3433f183/1750524241021-121671811.jpg","2025-06-21 16:44:01.262 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:44:01:441 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:44:01:441 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:44:01:441 [32minfo[39m: [32mProfile image updated successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:44:01:441 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 uploaded profile image successfully: 1750524241021-121671811.jpg[39m
2025-06-21 23:44:01:441 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:44:01 +0000] "POST /api/users/profile/image HTTP/1.1" 200 172 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:44:01:441 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:44:01 +0000] "GET /uploads/profile/a1140d13-20a7-4bee-a437-6bbd3433f183/1750524241021-121671811.jpg HTTP/1.1" 200 58894 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:44:03:443 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:44:03:443 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:44:03:443 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:44:03:443 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:44:03:443 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:44:03:443 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:44:03:443 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:44:03:443 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:44:03 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:44:03:443 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:44:03:443 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:44:03:443 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:44:03:443 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:44:03 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1140 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:44:56:4456 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:44:56 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 288 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:44:56:4456 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:44:56:4456 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:44:56 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 141 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:44:59:4459 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:44:59 +0000] "PUT /api/users/fcm-token HTTP/1.1" - - "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:00:450 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:00:450 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%aya%",10,0][39m
2025-06-21 23:45:00:450 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?,?,?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b","964331b7-5586-4e83-be77-d5b0722f6d9e","209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:45:00:450 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:00 +0000] "GET /api/meals/foods/autocomplete?query=aya&limit=10 HTTP/1.1" 200 841 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:02:452 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:02:452 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["DAGING-001",true,1,0][39m
2025-06-21 23:45:02:452 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:45:02:452 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:02 +0000] "GET /api/meals/foods/DAGING-001 HTTP/1.1" 200 454 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:08:458 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:08:458 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:08:458 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:45:08:458 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:45:08:458 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:45:08:458 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:45:08:458 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:45:08:458 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:08 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:45:08:458 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:08:458 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:08:458 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:45:08:458 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:08 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1140 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:45:11:4511 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:45:11:4511 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:45:11:4511 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:45:11:4511 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:11 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:45:11:4511 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:45:11:4511 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:11:4511 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:11:4511 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:45:11:4511 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:11 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1140 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:45:13:4513 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:45:13:4513 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:45:13:4513 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 0[39m
2025-06-21 23:45:13:4513 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:13 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:45:13:4513 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:45:13:4513 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mFound 0 meals[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mTotal calories consumed: 0[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:45:14:4514 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:14:4514 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:14:4514 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:45:14:4514 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:14 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1140 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:19:4519 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:19 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 288 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:45:19:4519 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:19:4519 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:19 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 141 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:22:4522 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:22:4522 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%aya%",10,0][39m
2025-06-21 23:45:22:4522 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?,?,?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b","964331b7-5586-4e83-be77-d5b0722f6d9e","209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:45:22:4522 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:22 +0000] "GET /api/meals/foods/autocomplete?query=aya&limit=10 HTTP/1.1" 200 841 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:25:4525 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:45:25:4525 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:25:4525 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["DAGING-002",true,1,0][39m
2025-06-21 23:45:25:4525 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:45:25:4525 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:25 +0000] "GET /api/meals/foods/DAGING-002 HTTP/1.1" 200 461 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/",
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 10,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "foodId": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true,
          "presence": "required"
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      },
      "date": {
        "type": "date",
        "flags": {
          "presence": "required"
        }
      },
      "quantity": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 0.1
            }
          }
        ]
      },
      "unit": {
        "type": "string",
        "flags": {
          "default": "porsi"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 10,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "foodId": "DAGING-002",
    "mealType": "BREAKFAST",
    "quantity": 10,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["DAGING-002",true,1,0][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: INSERT INTO `db_gohealth`.`UserMeal` (`id`,`userId`,`foodId`,`mealType`,`date`,`quantity`,`unit`,`totalCalories`,`totalProtein`,`totalFat`,`totalCarbs`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?) - Params: ["72fe5181-1ba6-4897-9a9a-36ae681446de","a1140d13-20a7-4bee-a437-6bbd3433f183","DAGING-002","BREAKFAST","21-06-2025",10,"gram",2000,150,120,0,"2025-06-21 16:45:32.840 UTC","2025-06-21 16:45:32.840 UTC"][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE `db_gohealth`.`UserMeal`.`id` = ? LIMIT ? OFFSET ? - Params: ["72fe5181-1ba6-4897-9a9a-36ae681446de",1,0][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["DAGING-002"][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:45:32:4532 [32minfo[39m: [32mMeal created successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183: Ayam Goreng (2000 kcal)[39m
2025-06-21 23:45:32:4532 [32minfo[39m: [32mCreating notification for user a1140d13-20a7-4bee-a437-6bbd3433f183: 🍽️ Breakfast Logged![39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: INSERT INTO `db_gohealth`.`Notification` (`id`,`userId`,`type`,`title`,`body`,`data`,`isRead`,`isSent`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?) - Params: ["5badcb66-2a75-40ab-98c0-1c43f27abf16","a1140d13-20a7-4bee-a437-6bbd3433f183","MEAL_LOGGED","🍽️ Breakfast Logged!","You've logged Ayam Goreng (2000 kcal) for breakfast. Keep tracking your nutrition!",{"type":"MEAL_LOGGED","mealId":"72fe5181-1ba6-4897-9a9a-36ae681446de","foodName":"Ayam Goreng","mealType":"BREAKFAST","calories":"2000","date":"21-06-2025","timestamp":"2025-06-21T16:45:32.865Z"},false,false,"2025-06-21 16:45:32.868 UTC","2025-06-21 16:45:32.868 UTC"][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`id` = ? LIMIT ? OFFSET ? - Params: ["5badcb66-2a75-40ab-98c0-1c43f27abf16",1,0][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:45:32:4532 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`name` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:33:4533 [32minfo[39m: [32mPush notification sent successfully to user a1140d13-20a7-4bee-a437-6bbd3433f183:[39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`id` = ? AND 1=1) - Params: ["5badcb66-2a75-40ab-98c0-1c43f27abf16"][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`Notification` SET `isSent` = ?, `sentAt` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`Notification`.`id` IN (?) AND (`db_gohealth`.`Notification`.`id` = ? AND 1=1)) - Params: [true,"2025-06-21 16:45:33.018 UTC","2025-06-21 16:45:33.020 UTC","5badcb66-2a75-40ab-98c0-1c43f27abf16","5badcb66-2a75-40ab-98c0-1c43f27abf16"][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`id` = ? LIMIT ? OFFSET ? - Params: ["5badcb66-2a75-40ab-98c0-1c43f27abf16",1,0][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:45:33:4533 [32minfo[39m: [32mMeal logged notification sent to user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:33:4533 [32minfo[39m: [32mChecking daily calory achievement for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025[39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:33:4533 [32minfo[39m: [32mTarget calories for user a1140d13-20a7-4bee-a437-6bbd3433f183: 2545 kcal[39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["DAGING-002"][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:45:33:4533 [32minfo[39m: [32mCurrent calories consumed by user a1140d13-20a7-4bee-a437-6bbd3433f183 on 21-06-2025: 2000 kcal[39m
2025-06-21 23:45:33:4533 [32minfo[39m: [32mCalory achievement percentage for user a1140d13-20a7-4bee-a437-6bbd3433f183: 79% (2000/2545)[39m
2025-06-21 23:45:33:4533 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 has not yet achieved daily calory target: 79% (need 80-120% for achievement)[39m
2025-06-21 23:45:33:4533 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 created a meal[39m
2025-06-21 23:45:33:4533 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:33 +0000] "POST /api/meals HTTP/1.1" 201 765 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["DAGING-002"][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:33:4533 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:33 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 844 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["DAGING-002"][39m
2025-06-21 23:45:33:4533 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:45:33:4533 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:33 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 1005 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:45:43:4543 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:45:43:4543 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:43 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFound 1 meals[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mTotal calories consumed: 2000[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:45:43:4543 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:43 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1144 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:45:43:4543 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:45:43:4543 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:43 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFound 1 meals[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mTotal calories consumed: 2000[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:45:43:4543 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:45:43:4543 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:45:43:4543 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:43 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1144 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["DAGING-002"][39m
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["DAGING-002"][39m
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:45:55:4555 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:55 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 1005 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:45:55:4555 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:45:55:4555 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:45:55 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 844 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:46:00:460 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:46:00:460 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:46:00:460 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:46:00:460 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:46:00:460 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:46:00:460 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:46:00:460 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:46:00:460 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:00 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mFound 1 meals[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mTotal calories consumed: 2000[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:46:00:460 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:00:460 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:00:460 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:46:00:460 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:00 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1144 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:46:01:461 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:46:01:461 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:01 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:46:01:461 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:46:01:461 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:46:01:461 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:46:01:461 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:46:01:461 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:46:01:461 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mFound 1 meals[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mTotal calories consumed: 2000[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:46:01:461 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:01:461 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:01:461 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:46:01:461 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:01 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1144 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:46:18:4618 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:46:18:4618 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:46:18:4618 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:18:4618 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 1[39m
2025-06-21 23:46:18:4618 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:18 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mFound 1 meals[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mTotal calories consumed: 2000[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:46:18:4618 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:18:4618 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:18:4618 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:46:18:4618 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:18 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1144 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "month"
  },
  "params": {}
}
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "month"
  },
  "params": {}
}
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "month"
  }
}
2025-06-21 23:46:21:4621 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range month and month null[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:46:21:4621 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:46:21:4621 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` >= ? AND `db_gohealth`.`UserMeal`.`date` <= ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","01-06-2025","07-06-2025"][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` >= ? AND `db_gohealth`.`UserMeal`.`date` <= ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","08-06-2025","14-06-2025"][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` >= ? AND `db_gohealth`.`UserMeal`.`date` <= ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025","21-06-2025"][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` >= ? AND `db_gohealth`.`UserMeal`.`date` <= ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","22-06-2025","28-06-2025"][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` >= ? AND `db_gohealth`.`UserMeal`.`date` <= ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","29-06-2025","29-06-2025"][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mFound 1 meals[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mTotal calories consumed: 2000[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:46:21:4621 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:21:4621 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:21:4621 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: month, month: null[39m
2025-06-21 23:46:21:4621 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:21 +0000] "GET /api/users/dashboard?range=month HTTP/1.1" 200 1161 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["DAGING-002"][39m
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["DAGING-002"][39m
2025-06-21 23:46:26:4626 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b"][39m
2025-06-21 23:46:26:4626 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:26 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 844 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:26:4626 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:26 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 1005 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:31:4631 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:31:4631 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%as%",10,0][39m
2025-06-21 23:46:31:4631 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:46:31:4631 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:31 +0000] "GET /api/meals/foods/autocomplete?query=as&limit=10 HTTP/1.1" 200 252 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:32:4632 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:32:4632 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["BUAH-018",true,1,0][39m
2025-06-21 23:46:32:4632 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:46:32:4632 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:32 +0000] "GET /api/meals/foods/BUAH-018 HTTP/1.1" 200 449 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:37:4637 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:46:37:4637 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:37:4637 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/",
  "body": {
    "foodId": "BUAH-018",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:46:37:4637 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "foodId": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true,
          "presence": "required"
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      },
      "date": {
        "type": "date",
        "flags": {
          "presence": "required"
        }
      },
      "quantity": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 0.1
            }
          }
        ]
      },
      "unit": {
        "type": "string",
        "flags": {
          "default": "porsi"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:46:37:4637 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "foodId": "BUAH-018",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:46:37:4637 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "foodId": "BUAH-018",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:46:37:4637 [31merror[39m: [31mError creating meal: Quantity must be between 0.1 and 20 servings for realistic portion sizes[39m {
  "statusCode": 400,
  "errors": null,
  "isOperational": true,
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)"
}
2025-06-21 23:46:37:4637 [31merror[39m: [31mQuantity must be between 0.1 and 20 servings for realistic portion sizes - /api/meals - POST - ::1[39m {
  "stack": "Error: Quantity must be between 0.1 and 20 servings for realistic portion sizes\n    at MealService.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\services\\meal.service.js:21:15)\n    at MealController.createMeal (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\controllers\\meal.controller.js:14:43)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\error.middleware.js:46:23\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\src\\middleware\\validation.middleware.js:92:9\n    at Layer.handleRequest (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\USER\\Documents\\code\\tugas-kuliah\\tugas-multi-platform\\gohealth-api\\node_modules\\router\\index.js:435:11)",
  "body": {
    "foodId": "BUAH-018",
    "mealType": "BREAKFAST",
    "quantity": 100,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  },
  "params": {},
  "query": {}
}
2025-06-21 23:46:37:4637 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:37 +0000] "POST /api/meals HTTP/1.1" 400 114 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:45:4645 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:45:4645 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`categoryId` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`isActive` = ? AND `db_gohealth`.`Food`.`name` LIKE ?) ORDER BY `db_gohealth`.`Food`.`name` ASC LIMIT ? OFFSET ? - Params: [true,"%Nana%",10,0][39m
2025-06-21 23:46:45:4645 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:46:45:4645 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:45 +0000] "GET /api/meals/foods/autocomplete?query=Nana&limit=10 HTTP/1.1" 200 163 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:46:4646 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:46:4646 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["BUAH-018",true,1,0][39m
2025-06-21 23:46:46:4646 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:46:46:4646 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:46 +0000] "GET /api/meals/foods/BUAH-018 HTTP/1.1" 200 449 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "POST",
  "path": "/",
  "body": {
    "foodId": "BUAH-018",
    "mealType": "BREAKFAST",
    "quantity": 1,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "foodId": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true,
          "presence": "required"
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      },
      "date": {
        "type": "date",
        "flags": {
          "presence": "required"
        }
      },
      "quantity": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "min",
            "args": {
              "limit": 0.1
            }
          }
        ]
      },
      "unit": {
        "type": "string",
        "flags": {
          "default": "porsi"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "foodId": "BUAH-018",
    "mealType": "BREAKFAST",
    "quantity": 1,
    "unit": "gram",
    "date": "21-06-2025"
  },
  "query": {},
  "params": {}
}
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "foodId": "BUAH-018",
    "mealType": "BREAKFAST",
    "quantity": 1,
    "unit": "gram",
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE (`db_gohealth`.`Food`.`id` = ? AND `db_gohealth`.`Food`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["BUAH-018",true,1,0][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: INSERT INTO `db_gohealth`.`UserMeal` (`id`,`userId`,`foodId`,`mealType`,`date`,`quantity`,`unit`,`totalCalories`,`totalProtein`,`totalFat`,`totalCarbs`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?) - Params: ["fa0c75c4-e338-4bea-b155-692bbcf4703d","a1140d13-20a7-4bee-a437-6bbd3433f183","BUAH-018","BREAKFAST","21-06-2025",1,"gram",50,0.5,0.1,13,"2025-06-21 16:46:51.418 UTC","2025-06-21 16:46:51.418 UTC"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE `db_gohealth`.`UserMeal`.`id` = ? LIMIT ? OFFSET ? - Params: ["fa0c75c4-e338-4bea-b155-692bbcf4703d",1,0][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?) - Params: ["BUAH-018"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?) - Params: ["209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mMeal created successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183: Nanas (50 kcal)[39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mCreating notification for user a1140d13-20a7-4bee-a437-6bbd3433f183: 🍽️ Breakfast Logged![39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: INSERT INTO `db_gohealth`.`Notification` (`id`,`userId`,`type`,`title`,`body`,`data`,`isRead`,`isSent`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?) - Params: ["eba23752-7b9a-4e6e-93f0-bace01c9e2c6","a1140d13-20a7-4bee-a437-6bbd3433f183","MEAL_LOGGED","🍽️ Breakfast Logged!","You've logged Nanas (50 kcal) for breakfast. Keep tracking your nutrition!",{"type":"MEAL_LOGGED","mealId":"fa0c75c4-e338-4bea-b155-692bbcf4703d","foodName":"Nanas","mealType":"BREAKFAST","calories":"50","date":"21-06-2025","timestamp":"2025-06-21T16:46:51.432Z"},false,false,"2025-06-21 16:46:51.434 UTC","2025-06-21 16:46:51.434 UTC"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`id` = ? LIMIT ? OFFSET ? - Params: ["eba23752-7b9a-4e6e-93f0-bace01c9e2c6",1,0][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`name` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mPush notification sent successfully to user a1140d13-20a7-4bee-a437-6bbd3433f183:[39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`id` = ? AND 1=1) - Params: ["eba23752-7b9a-4e6e-93f0-bace01c9e2c6"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`Notification` SET `isSent` = ?, `sentAt` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`Notification`.`id` IN (?) AND (`db_gohealth`.`Notification`.`id` = ? AND 1=1)) - Params: [true,"2025-06-21 16:46:51.579 UTC","2025-06-21 16:46:51.580 UTC","eba23752-7b9a-4e6e-93f0-bace01c9e2c6","eba23752-7b9a-4e6e-93f0-bace01c9e2c6"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`id` = ? LIMIT ? OFFSET ? - Params: ["eba23752-7b9a-4e6e-93f0-bace01c9e2c6",1,0][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mMeal logged notification sent to user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mChecking daily calory achievement for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025[39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mTarget calories for user a1140d13-20a7-4bee-a437-6bbd3433f183: 2545 kcal[39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?,?) - Params: ["DAGING-002","BUAH-018"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?,?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b","209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mCurrent calories consumed by user a1140d13-20a7-4bee-a437-6bbd3433f183 on 21-06-2025: 2050 kcal[39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mCalory achievement percentage for user a1140d13-20a7-4bee-a437-6bbd3433f183: 81% (2050/2545)[39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 achieved 81% of daily calory target - sending achievement notification[39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mCreating notification for user a1140d13-20a7-4bee-a437-6bbd3433f183: 🎉 Daily Calory Goal Achieved![39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: INSERT INTO `db_gohealth`.`Notification` (`id`,`userId`,`type`,`title`,`body`,`data`,`isRead`,`isSent`,`createdAt`,`updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?) - Params: ["81a86356-c53b-4955-9da0-81aa333c3058","a1140d13-20a7-4bee-a437-6bbd3433f183","DAILY_CALORY_ACHIEVEMENT","🎉 Daily Calory Goal Achieved!","Congratulations! You've consumed 2050 out of 2545 calories (81%). Keep up the great work!",{"type":"DAILY_CALORY_ACHIEVEMENT","currentCalories":"2050","targetCalories":"2545","percentage":"81","timestamp":"2025-06-21T16:46:51.606Z"},false,false,"2025-06-21 16:46:51.608 UTC","2025-06-21 16:46:51.608 UTC"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`id` = ? LIMIT ? OFFSET ? - Params: ["81a86356-c53b-4955-9da0-81aa333c3058",1,0][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`name` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mPush notification sent successfully to user a1140d13-20a7-4bee-a437-6bbd3433f183:[39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`id` = ? AND 1=1) - Params: ["81a86356-c53b-4955-9da0-81aa333c3058"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`Notification` SET `isSent` = ?, `sentAt` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`Notification`.`id` IN (?) AND (`db_gohealth`.`Notification`.`id` = ? AND 1=1)) - Params: [true,"2025-06-21 16:46:51.705 UTC","2025-06-21 16:46:51.706 UTC","81a86356-c53b-4955-9da0-81aa333c3058","81a86356-c53b-4955-9da0-81aa333c3058"][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Notification`.`id`, `db_gohealth`.`Notification`.`userId`, `db_gohealth`.`Notification`.`type`, `db_gohealth`.`Notification`.`title`, `db_gohealth`.`Notification`.`body`, `db_gohealth`.`Notification`.`data`, `db_gohealth`.`Notification`.`isRead`, `db_gohealth`.`Notification`.`isSent`, `db_gohealth`.`Notification`.`sentAt`, `db_gohealth`.`Notification`.`readAt`, `db_gohealth`.`Notification`.`createdAt`, `db_gohealth`.`Notification`.`updatedAt` FROM `db_gohealth`.`Notification` WHERE `db_gohealth`.`Notification`.`id` = ? LIMIT ? OFFSET ? - Params: ["81a86356-c53b-4955-9da0-81aa333c3058",1,0][39m
2025-06-21 23:46:51:4651 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mDaily calory achievement notification sent successfully to user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:46:51:4651 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 created a meal[39m
2025-06-21 23:46:51:4651 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:51 +0000] "POST /api/meals HTTP/1.1" 201 749 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/summary",
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date",
        "flags": {}
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?,?) - Params: ["DAGING-002","BUAH-018"][39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?,?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b","209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:46:52:4652 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:52 +0000] "GET /api/meals/summary?date=21-06-2025 HTTP/1.1" 200 1703 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/",
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "page": {
        "type": "number",
        "flags": {
          "default": 1
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          }
        ]
      },
      "limit": {
        "type": "number",
        "flags": {
          "default": 10
        },
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "search": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 100
            }
          }
        ]
      },
      "category": {
        "type": "string",
        "rules": [
          {
            "name": "max",
            "args": {
              "limit": 50
            }
          }
        ]
      },
      "date": {
        "type": "date"
      },
      "mealType": {
        "type": "string",
        "flags": {
          "only": true
        },
        "allow": [
          "BREAKFAST",
          "LUNCH",
          "DINNER",
          "SNACK"
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "page": "1",
    "limit": "10",
    "date": "21-06-2025"
  },
  "params": {}
}
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "page": 1,
    "limit": 10,
    "date": "2025-06-20T17:00:00.000Z"
  }
}
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) ORDER BY `db_gohealth`.`UserMeal`.`createdAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025",10,0][39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`Food`.`id`, `db_gohealth`.`Food`.`name`, `db_gohealth`.`Food`.`categoryId`, `db_gohealth`.`Food`.`protein`, `db_gohealth`.`Food`.`fat`, `db_gohealth`.`Food`.`carbohydrate`, `db_gohealth`.`Food`.`calory`, `db_gohealth`.`Food`.`isActive`, `db_gohealth`.`Food`.`createdAt`, `db_gohealth`.`Food`.`updatedAt` FROM `db_gohealth`.`Food` WHERE `db_gohealth`.`Food`.`id` IN (?,?) - Params: ["BUAH-018","DAGING-002"][39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`FoodCategory`.`id`, `db_gohealth`.`FoodCategory`.`name`, `db_gohealth`.`FoodCategory`.`slug`, `db_gohealth`.`FoodCategory`.`description`, `db_gohealth`.`FoodCategory`.`createdAt`, `db_gohealth`.`FoodCategory`.`updatedAt` FROM `db_gohealth`.`FoodCategory` WHERE `db_gohealth`.`FoodCategory`.`id` IN (?,?) - Params: ["fead93d8-15fd-45df-bbef-50e7113ed91b","209a9945-5e76-4c04-bf68-baa0162c331a"][39m
2025-06-21 23:46:52:4652 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`UserMeal`.`id` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:46:52:4652 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:46:52 +0000] "GET /api/meals?page=1&limit=10&date=21-06-2025 HTTP/1.1" 200 1532 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:47:39:4739 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:47:39:4739 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT COUNT(*) AS `_count._all` FROM (SELECT `db_gohealth`.`Notification`.`id` FROM `db_gohealth`.`Notification` WHERE (`db_gohealth`.`Notification`.`userId` = ? AND `db_gohealth`.`Notification`.`isRead` = ?)) AS `sub` - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",false][39m
2025-06-21 23:47:40:4740 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 retrieved unread notification count: 3[39m
2025-06-21 23:47:40:4740 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:47:40 +0000] "GET /api/notifications/unread-count HTTP/1.1" 200 96 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "GET",
  "path": "/dashboard",
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "date": {
        "type": "date"
      },
      "range": {
        "type": "string",
        "flags": {
          "only": true,
          "default": "week"
        },
        "allow": [
          "week",
          "month",
          "year"
        ]
      },
      "month": {
        "type": "number",
        "rules": [
          {
            "name": "integer"
          },
          {
            "name": "min",
            "args": {
              "limit": 1
            }
          },
          {
            "name": "max",
            "args": {
              "limit": 12
            }
          }
        ],
        "allow": [
          null
        ]
      }
    }
  },
  "schemaKeys": [
    "query"
  ]
}
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mData to validate:[39m {
  "query": {
    "range": "week"
  },
  "params": {}
}
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "query": {
    "range": "week"
  }
}
2025-06-21 23:47:40:4740 [32minfo[39m: [32mFetching dashboard data for user a1140d13-20a7-4bee-a437-6bbd3433f183 on date 21-06-2025 with range week and month null[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mGetting user profile...[39m
2025-06-21 23:47:40:4740 [32minfo[39m: [32mFetching profile for user ID: a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mFinding user in database...[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mCalculating BMR and TDEE...[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mCalculated BMR: 1493, TDEE: 2314[39m
2025-06-21 23:47:40:4740 [32minfo[39m: [32mProfile retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","15-06-2025"][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","16-06-2025"][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","17-06-2025"][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","18-06-2025"][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","19-06-2025"][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","20-06-2025"][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mFetching today's meals...[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserMeal`.`id`, `db_gohealth`.`UserMeal`.`userId`, `db_gohealth`.`UserMeal`.`foodId`, `db_gohealth`.`UserMeal`.`mealType`, `db_gohealth`.`UserMeal`.`date`, `db_gohealth`.`UserMeal`.`quantity`, `db_gohealth`.`UserMeal`.`unit`, `db_gohealth`.`UserMeal`.`totalCalories`, `db_gohealth`.`UserMeal`.`totalProtein`, `db_gohealth`.`UserMeal`.`totalFat`, `db_gohealth`.`UserMeal`.`totalCarbs`, `db_gohealth`.`UserMeal`.`createdAt`, `db_gohealth`.`UserMeal`.`updatedAt` FROM `db_gohealth`.`UserMeal` WHERE (`db_gohealth`.`UserMeal`.`userId` = ? AND `db_gohealth`.`UserMeal`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mFound 2 meals[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mFetching today's activities...[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`UserActivity`.`userId`, `db_gohealth`.`UserActivity`.`activityTypeId`, `db_gohealth`.`UserActivity`.`date`, `db_gohealth`.`UserActivity`.`duration`, `db_gohealth`.`UserActivity`.`caloriesBurned`, `db_gohealth`.`UserActivity`.`intensity`, `db_gohealth`.`UserActivity`.`notes`, `db_gohealth`.`UserActivity`.`startTime`, `db_gohealth`.`UserActivity`.`endTime`, `db_gohealth`.`UserActivity`.`createdAt`, `db_gohealth`.`UserActivity`.`updatedAt` FROM `db_gohealth`.`UserActivity` WHERE (`db_gohealth`.`UserActivity`.`userId` = ? AND `db_gohealth`.`UserActivity`.`date` = ?) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183","21-06-2025"][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mFound 0 activities[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mCalculating calories consumed...[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mTotal calories consumed: 2050[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mCalculating calories burned from activities...[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mTotal calories burned: 0[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mFetching nutrition targets...[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`DailyNutritionTarget`.`id`, `db_gohealth`.`DailyNutritionTarget`.`userId`, `db_gohealth`.`DailyNutritionTarget`.`calories`, `db_gohealth`.`DailyNutritionTarget`.`protein`, `db_gohealth`.`DailyNutritionTarget`.`carbohydrates`, `db_gohealth`.`DailyNutritionTarget`.`fat`, `db_gohealth`.`DailyNutritionTarget`.`fiber`, `db_gohealth`.`DailyNutritionTarget`.`effectiveDate`, `db_gohealth`.`DailyNutritionTarget`.`isActive`, `db_gohealth`.`DailyNutritionTarget`.`createdAt`, `db_gohealth`.`DailyNutritionTarget`.`updatedAt` FROM `db_gohealth`.`DailyNutritionTarget` WHERE (`db_gohealth`.`DailyNutritionTarget`.`userId` = ? AND `db_gohealth`.`DailyNutritionTarget`.`isActive` = ? AND `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` <= ?) ORDER BY `db_gohealth`.`DailyNutritionTarget`.`effectiveDate` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,"21-06-2025",1,0][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mFetching active weight goal...[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`WeightGoal`.`id`, `db_gohealth`.`WeightGoal`.`userId`, `db_gohealth`.`WeightGoal`.`startWeight`, `db_gohealth`.`WeightGoal`.`targetWeight`, `db_gohealth`.`WeightGoal`.`startDate`, `db_gohealth`.`WeightGoal`.`targetDate`, `db_gohealth`.`WeightGoal`.`isActive`, `db_gohealth`.`WeightGoal`.`createdAt`, `db_gohealth`.`WeightGoal`.`updatedAt` FROM `db_gohealth`.`WeightGoal` WHERE (`db_gohealth`.`WeightGoal`.`userId` = ? AND `db_gohealth`.`WeightGoal`.`isActive` = ?) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",true,1,0][39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mFetching latest BMI record...[39m
2025-06-21 23:47:40:4740 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`BMIRecord`.`id`, `db_gohealth`.`BMIRecord`.`userId`, `db_gohealth`.`BMIRecord`.`height`, `db_gohealth`.`BMIRecord`.`weight`, `db_gohealth`.`BMIRecord`.`bmi`, `db_gohealth`.`BMIRecord`.`status`, `db_gohealth`.`BMIRecord`.`recordedAt`, `db_gohealth`.`BMIRecord`.`createdAt`, `db_gohealth`.`BMIRecord`.`updatedAt`, `db_gohealth`.`BMIRecord`.`nutritionSummary` FROM `db_gohealth`.`BMIRecord` WHERE `db_gohealth`.`BMIRecord`.`userId` = ? ORDER BY `db_gohealth`.`BMIRecord`.`recordedAt` DESC LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:47:40:4740 [32minfo[39m: [32mDashboard data retrieved successfully for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:47:40:4740 [32minfo[39m: [32mUser a1140d13-20a7-4bee-a437-6bbd3433f183 accessed dashboard for date: 21-06-2025, range: week, month: null[39m
2025-06-21 23:47:40:4740 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:47:40 +0000] "GET /api/users/dashboard?range=week HTTP/1.1" 200 1144 "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "PUT",
  "path": "/fcm-token",
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:50:45.361592"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "fcmToken": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "isEmulator": false,
      "timestamp": "2025-06-21T23:50:45.361592"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo"
  }
}
2025-06-21 23:50:48:5048 [32minfo[39m: [32mUpdating FCM token for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `fcmToken` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: ["e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo","2025-06-21 16:50:48.072 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:50:48:5048 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:53:30:5330 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:53:30 +0000] "PUT /api/users/fcm-token HTTP/1.1" - - "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:54:06:546 [34mdebug[39m: [34mQuery: SELECT 1 - Params: [][39m
2025-06-21 23:54:06:546 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:54:06:546 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "PUT",
  "path": "/fcm-token",
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "timestamp": "2025-06-21T23:54:03.324690"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:54:06:546 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "fcmToken": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:54:06:546 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "timestamp": "2025-06-21T23:54:03.324690"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:54:06:546 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo"
  }
}
2025-06-21 23:54:06:546 [32minfo[39m: [32mUpdating FCM token for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:54:06:546 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:54:06:546 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:54:06:546 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `fcmToken` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: ["e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo","2025-06-21 16:54:06.083 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:54:06:546 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:54:06:546 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:55:52:5552 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:55:52 +0000] "PUT /api/users/fcm-token HTTP/1.1" - - "-" "Dart/3.7 (dart:io)"[39m
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mValidation Middleware - Incoming request:[39m {
  "method": "PUT",
  "path": "/fcm-token",
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "timestamp": "2025-06-21T23:56:24.993318"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mSchema structure:[39m {
  "hasStructure": {
    "type": "object",
    "keys": {
      "fcmToken": {
        "type": "string",
        "flags": {
          "presence": "required"
        }
      }
    }
  },
  "schemaKeys": [
    "body"
  ]
}
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mData to validate:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo",
    "platform": "android",
    "deviceInfo": {
      "platform": "android",
      "timestamp": "2025-06-21T23:56:24.993318"
    }
  },
  "query": {},
  "params": {}
}
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mValidation passed, validated values:[39m {
  "body": {
    "fcmToken": "e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo"
  }
}
2025-06-21 23:56:27:5627 [32minfo[39m: [32mUpdating FCM token for user a1140d13-20a7-4bee-a437-6bbd3433f183[39m
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mQuery: BEGIN - Params: [][39m
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id` FROM `db_gohealth`.`User` WHERE (`db_gohealth`.`User`.`id` = ? AND 1=1) - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mQuery: UPDATE `db_gohealth`.`User` SET `fcmToken` = ?, `updatedAt` = ? WHERE (`db_gohealth`.`User`.`id` IN (?) AND (`db_gohealth`.`User`.`id` = ? AND 1=1)) - Params: ["e7Qao6aZRBaHhHaSm7ucQt:APA91bEAzFeRLRFI2XL91UeJY0pfuO5tk7NedM6MqW893qzfF2mj-UyMAoLRrh_SENDjouvwWV4MvlWUKiCxBNqCHiPcb3TALqM7lA58rg-9sxfx1GzvpXo","2025-06-21 16:56:27.642 UTC","a1140d13-20a7-4bee-a437-6bbd3433f183","a1140d13-20a7-4bee-a437-6bbd3433f183"][39m
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mQuery: SELECT `db_gohealth`.`User`.`id`, `db_gohealth`.`User`.`googleId`, `db_gohealth`.`User`.`email`, `db_gohealth`.`User`.`password`, `db_gohealth`.`User`.`name`, `db_gohealth`.`User`.`age`, `db_gohealth`.`User`.`gender`, `db_gohealth`.`User`.`height`, `db_gohealth`.`User`.`weight`, `db_gohealth`.`User`.`activityLevel`, `db_gohealth`.`User`.`profileImage`, `db_gohealth`.`User`.`fcmToken`, `db_gohealth`.`User`.`createdAt`, `db_gohealth`.`User`.`updatedAt` FROM `db_gohealth`.`User` WHERE `db_gohealth`.`User`.`id` = ? LIMIT ? OFFSET ? - Params: ["a1140d13-20a7-4bee-a437-6bbd3433f183",1,0][39m
2025-06-21 23:56:27:5627 [34mdebug[39m: [34mQuery: COMMIT - Params: [][39m
2025-06-21 23:57:44:5744 [35mhttp[39m: [35m::1 - - [21/Jun/2025:16:57:44 +0000] "PUT /api/users/fcm-token HTTP/1.1" - - "-" "Dart/3.7 (dart:io)"[39m
